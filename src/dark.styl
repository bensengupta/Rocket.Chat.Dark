// Main colors.
success-color = #43b581
danger-color = #b33636
highlight-color = #955AD1
warning-color = #fcb316

// Buttons.
button-bg = highlight-color
button-fg = mix(button-bg, #ffffff, 20%)
button-cancel-bg = danger-color
button-cancel-fg = mix(button-cancel-bg, #ffffff, 20%)
button-secondary-bg = component-fg
button-secondary-fg = component-bg

anchor-fg = highlight-color
anchor-hover-fg = darken(highlight-color, 10%)

// Code blocks, blockquotes, popups.
component-bg = #2a2c31
component-fg = #bbb
divider-color = darken(component-bg, 10%)

// Left and right sidebars.
sidebar-bg = darken(highlight-color, 40%)
sidebar-fg = #ccc

// Status colors.
online-color = success-color
away-color = warning-color
busy-color = danger-color
invisible-color = #bbb

// Main chat area.
chat-bg = #36393e
chat-fg = mix(#fff, chat-bg, 70%)
border-color = lighten(chat-bg, 5%)
reply-color = component-bg

// Inputs.
input-fg = mix(#000, chat-fg, 5%)
input-bg = mix(#000, chat-bg, 10%)
input-border = mix(#fff, chat-bg, 50%)
input-focus = mix(input-border, highlight-color, 80%)
placeholder-color = lighten(chat-bg, 20%)

icon-fg = mix(chat-bg, chat-fg, 50%)

light-highlight-color = #592989

body
	--component-color #999
	--primary-font-color #444
	--primary-background-color light-highlight-color
	--info-font-color #a0a0a0
	--rc-color-primary light-highlight-color
	--rc-color-primary-background light-highlight-color
	--rc-color-primary-darkest darken(light-highlight-color, 10%)
	--rc-color-primary-dark darken(light-highlight-color, 5%)
	--rc-color-button-primary light-highlight-color
	--rc-color-alert-message-primary #592989
	--sidebar-background light-highlight-color
	--sidebar-background-hover darken(light-highlight-color, 5%)
	--sidebar-item-text-color #ccc
	--sidebar-item-hover-background darken(light-highlight-color, 5%)
	--sidebar-item-active-background darken(light-highlight-color, 10%)
	--sidebar-item-popup-background darken(light-highlight-color, 13%)
	--rc-status-invisible-sidebar invisible-color

/* Reset global font color so that it's changable more easily */
.color-primary-font-color, textarea
	color var(--primary-font-color)

.color-info-font-color
	color var(--info-font-color)

select
	color var(--input-text-color)

.error-color
	color var(--rc-color-error)

.js-button[aria-label="Toggle Dark Mode"]
	transition filter 150ms

.upload-progress-progress
	z-index 999

.rc-message-box__container, .rcx-text-input
	border-radius 7px

.sidebar__toolbar-button-icon--darkmode
	height .9em

textarea,
select,
.color-primary-font-color,
.color-info-font-color,
.messages-box .message .body,
.rc-header__name,
.rc-header__wrap,
.message .reactions>li,
.message .title .is-bot,
.message .title .role-tag,
.message.new-day::before,
.code-colors,
.hljs-selector-id,
.hljs-selector-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-title,
.hljs-doctag,
.hljs-string,
.hljs-type,
.hljs-literal,
.hljs-number,
.hljs-tag .hljs-attr,
.hljs-template-variable,
.hljs-variable,
.rc-message-box__container,
.messages-container .footer,
.content-background-color,
.message.new-day::after,
.message .reactions>li,
.border-component-color,
.contextual-bar__header,
.contextual-bar__content,
.sidebar__footer
	transition opacity 400ms linear, color 200ms, background-color 200ms, border-color 200ms

body.dark-mode
	--color-dark-100 #0c0d0f
	--color-dark-90 #1e232a
	--color-dark-80 #2e343e
	--color-dark-70 #53585f
	--color-dark-30 #9da2a9
	--color-dark-20 #caced1
	--color-dark-10 #e0e5e8
	--color-dark-05 #f1f2f4
	--color-dark-blue #175cc4
	--color-blue #1d74f5
	--color-light-blue #4eb2f5
	--color-lighter-blue #e8f2ff
	--color-purple #861da8
	--color-red #f5455c
	--color-dark-red #e0364d
	--color-orange #f59547
	--color-yellow #ffd21f
	--color-dark-yellow #f6c502
	--color-green #2de0a5
	--color-dark-green #26d198
	--color-darkest mix(chat-bg, chat-fg, 50%)
	--color-dark #2f343d
	--color-dark-medium #414852
	--color-dark-light #6c727a
	--color-gray #9ea2a8
	--color-gray-medium #cbced1
	--color-gray-lightest border-color
	--color-black #000
	--color-white #fff

	--color-gray-light border-color
	--primary-font-color chat-fg
	--info-font-color mix(chat-fg, chat-bg, 80%)

	--primary-action-color highlight-color
	--primary-background-color highlight-color
	--secondary-background-color darken(component-bg, 10%)
	--component-color component-bg
	--rc-color-error danger-color
	--rc-color-alert warning-color
	--rc-color-alert-light lighten(warning-color, 5%)
	--rc-color-success success-color
	--rc-color-button-primary highlight-color
	--rc-color-button-primary-light darken(highlight-color, 10%)
	--rc-color-alert-message-primary highlight-color
	--rc-color-alert-message-primary-background component-bg
	--rc-color-alert-message-secondary-background component-bg
	--rc-color-alert-message-warning-background mix(component-bg, danger-color, 97%)
	--rc-color-primary chat-fg
	--rc-color-primary-background var(--color-dark)
	--rc-color-primary-darkest darken(sidebar-bg, 15%)
	--rc-color-primary-dark darken(sidebar-bg, 7%)
	--rc-color-primary-light var(--color-gray)
	--rc-color-primary-light-medium darken(chat-bg, 3%)
	--rc-color-primary-lightest darken(chat-bg, 13%)
	--rc-color-content var(--color-white)
	--rc-color-link-active var(--rc-color-button-primary)
	--rcx-text-colors-default chat-fg
	--rcx-color-foreground-default chat-fg
	--rcx-input-colors-color input-fg
	--rcx-input-colors-background-color input-bg
	--rcx-input-colors-disabled-background-color lighten(input-bg, 15%)
	--rcx-input-colors-border-color input-border
	--rcx-input-colors-active-caret-color highlight-color
	--rcx-input-colors-hover-border-color lighten(input-border, 40%)
	--rcx-input-colors-focus-border-color highlight-color
	--rcx-input-colors-focus-shadow-color mix(component-bg, highlight-color, 60%)
	--rcx-button-colors-primary-background-color darken(highlight-color, 30%)
	--rcx-button-colors-primary-disabled-background-color lighten(highlight-color, 30%)
	--rcx-button-colors-primary-border-color darken(highlight-color, 35%)
	--rcx-button-colors-primary-disabled-border-color lighten(highlight-color, 10%)
	--rcx-button-colors-primary-hover-background-color darken(highlight-color, 50%)
	--rcx-button-colors-primary-hover-border-color darken(highlight-color, 50%)
	--rcx-button-colors-secondary-color icon-fg
	--rcx-button-colors-secondary-hover-background-color rgba(255, 255, 255, 0.05)
	--rcx-button-colors-secondary-hover-border-color rgba(255, 255, 255, 0.05)
	--rcx-button-colors-secondary-disabled-background-color darken(icon-fg, 20%)
	--rcx-button-colors-danger-background-color mix(button-cancel-bg, chat-bg, 70%)
	--rcx-button-colors-danger-border-color darken(button-cancel-bg, 50%)
	--rcx-button-colors-danger-hover-background-color darken(button-cancel-bg, 60%)
	--rcx-button-colors-danger-hover-border-color darken(button-cancel-bg, 60%)
	--rcx-tag-colors-secondary-color highlight-color
	--rcx-tag-colors-secondary-background-color mix(chat-bg, highlight-color, 80%)
	--rcx-button-colors-off-color lighten(button-secondary-fg, 20%)
	--rcx-button-colors-off-background-color button-secondary-bg
	--rcx-button-colors-off-border-color input-border
	--status-online online-color
	--rc-status-online online-color
	--status-away away-color
	--rc-status-away away-color
	--status-busy busy-color
	--rc-status-busy busy-color
	--status-invisible invisible-color
	--status-invisible-sidebar invisible-color
	--button-disabled-background lighten(button-bg, 7%) // not sure
	--button-disabled-text-color darken(button-fg, 7%)
	--button-primary-background var(--rc-color-button-primary)
	--button-primary-text-color var(--color-white)
	--button-cancel-color danger-color
	--button-secondary-background lighten(chat-bg, 30%)
	--button-secondary-text-color chat-fg
	--input-title-color input-fg
	--input-text-color input-fg
	--input-placeholder-color darken(input-fg, 20%)
	--input-icon-color input-fg
	--input-border-color input-border
	--input-description-text-color var(--color-gray)
	--input-error-color danger-color
	--popup-list-background component-bg
	--popup-list-background-hover highlight-color
	--popup-list-selected-background highlight-color
	--popup-list-name-color component-fg
	--tags-border-color input-border
	--tags-text-color #fff
	--tags-background highlight-color
	--chip-background highlight-color
	--select-avatar-upload-background var(--color-gray-light)
	--select-avatar-upload-color #2d343d
	--sidebar-background sidebar-bg
	--sidebar-background-hover darken(sidebar-bg, 15%)
	--sidebar-background-light sidebar-bg
	--sidebar-background-light-hover darken(sidebar-bg, 15%)
	--sidebar-background-light-active darken(sidebar-bg, 5%)
	--sidebar-flex-search-background input-bg
	--sidebar-flex-search-placeholder-color var(--color-gray)
	--sidebar-account-username-color var(--color-white)
	--sidebar-account-username-color-darker var(--color-dark)
	--sidebar-account-status-color var(--color-gray)
	--sidebar-item-text-color var(--rc-color-primary-light)
	--sidebar-item-hover-background darken(sidebar-bg, 13%)
	--sidebar-item-active-background var(--rc-color-primary-dark)
	--sidebar-item-active-color var(--sidebar-item-text-color)
	--sidebar-item-unread-color var(--rc-color-content)
	--sidebar-item-popup-background darken(sidebar-bg, 13%)
	--modal-back-button-color var(--color-gray)
	--create-channel-title-color chat-fg
	--create-channel-description-color darken(component-fg, 5%)
	--toolbar-placeholder-color var(--color-gray)
	--rooms-list-title-color var(--rc-color-primary-light)
	--rooms-list-empty-text-color var(--color-gray)
	--badge-text-color var(--color-white)
	--badge-background lighten(sidebar-bg, 8%)
	--badge-unread-background highlight-color
	--badge-user-mentions-background var(--color-dark-blue)
	--badge-group-mentions-background var(--rc-color-primary-dark)
	--link-font-color anchor-fg
	--link-font-hover-color anchor-hover-fg
	--mention-link-background mix(chat-bg, highlight-color, 80%)
	--mention-link-text-color highlight-color
	--mention-link-me-background mix(chat-bg, #f6435c, 80%)
	--mention-link-me-text-color #f6435c
	--mention-link-group-background mix(chat-bg, highlight-color, 80%)
	--mention-link-group-text-color highlight-color
	--message-box-placeholder-color var(--color-gray-medium)
	--message-box-markdown-color darken(chat-fg, 30%)
	--message-box-markdown-hover-color darken(chat-fg, 50%)
	--message-box-user-typing-color darken(chat-fg, 20%)
	--message-box-user-typing-user-color highlight-color
	--message-box-container-border-color input-border
	--message-box-editing-color mix(chat-bg, #fb0, 95%) // also change .message.editing
	--message-box-popover-title-text-color var(--color-gray)
	--header-toggle-favorite-color darken(warning-color, 20%)
	--header-toggle-favorite-star-color darken(warning-color, 20%)
	--header-toggle-encryption-off-color darken(danger-color, 30%)
	--header-toggle-encryption-on-color darken(success-color, 30%)
	--header-title-username-color-darker chat-fg
	--header-title-status-color darken(chat-fg, 20%)
	--header-background-color darken(chat-bg, 10%)
	--flex-nav-background sidebar-bg
	--popover-background component-bg
	--popover-title-color component-fg
	--popover-item-color component-fg
	--popover-divider-color divider-color
	--tooltip-background component-bg
	--tooltip-text-color var(--color-white)
	--alerts-background #1d73f5
	--alerts-color var(--color-white)

	// @import "dark-admin"
	@import "atom-one-dark"

	.rc-form-legend, .rc-form-label
		color lighten(component-fg, 10%)

	.content-background-color, .rc-message-box, .page-home .rc-header__wrap
		background-color chat-bg

	.rc-header__name, .rcx-\\\@1k9p36u
		color lighten(component-fg, 30%) !important

	.contextual-bar__content
		background-color component-bg

	.contextual-bar, .contextual-bar__content
		background-color component-bg;

	.contextual-bar__header,
	.contextual-bar .rcx-\\\@1flttqf,
	.rcx-\\\@1iusre9:hover,
	.rc-member-list__user:hover,
	.flex-tab__result .attachments__item-link:hover
		background-color darken(component-bg, 10%) !important
	
	/* Border colors */
	.rcx-\\\@1purp9p, .rcx-\\\@xi6cg2
		border-block-start-color border-color !important
		border-block-end-color border-color !important
	
	.rcx-\\\@1iusre9, .rc-header--room, .rc-old .fixed-title
		border-bottom-color border-color !important
			
	.rc-user-info-details
		background-color lighten(component-bg, 5%)

	dialog,
	.rc-modal__title,
	.rc-switch__text,
	.rc-member-list__counter,
	.rc-user-info-details__info,
	.rc-switch-double,
	.flex-tab__result .attachments__name,
	.rcx-contextual-message .rcx-message__username
		color component-fg !important

	.sidebar-light .sidebar-item, .rcx-\\\@etdgtn
		color sidebar-fg !important

	.rcx-callout--type-warning
		background-color mix(warning-color, chat-bg, 30%)

	.messages-container
		.rc-header, .rc-header__wrap
			background-color darken(chat-bg, 10%)

	.page-list a:not(.rc-button), .page-settings a:not(.rc-button)
		color chat-fg

	tr:nth-child(odd) td, th:nth-child(odd)
		background-color darken(chat-bg, 10%) !important

	tr:nth-child(even) td, th:nth-child(even)
		background-color darken(chat-bg, 20%) !important

	.message .info .is-bot, .message .info .role-tag
		background-color highlight-color
		color #fff

	.message .title .role-tag, .message .title .is-bot
		background-color lighten(chat-bg, 10%)
		border-color lighten(chat-bg, 15%)
		color  chat-fg

	.message.new-day
		&::before
			background-color chat-bg
			color mix(#fff, chat-bg, 30%)

		&::after
			border-color mix(#fff, chat-bg, 4%)

	.flex-tab .message.new-day
		&::before
			background-color sidebar-bg
			color component-fg

		&::after
			border-color mix(#fff, sidebar-bg, 4%)

	.rc-old .code-colors
		color chat-fg
		border-color darken(chat-bg, 9%)
		background-color darken(chat-bg, 14%)

	.message a i, .flex-tab a i, .message a[class^="icon-"], .flex-tab a[class^="icon-"]
		color icon-fg

		&:hover
			color lighten(icon-fg, 40%)

	.emoji-picker,
	.rc-modal
		background-color component-bg

	.secondary-background-color
		background-color lighten(component-bg, 10%)

	.rc-modal__footer
		background-color darken(component-bg, 10%)

	input
		color chat-fg
		border-color input-border
		// background-color darken(component-bg, 10%)

		&::placeholder
			color component-fg

		&:focus
			border-color input-focus
			box-shadow none

	.emoji-picker .emojis .emoji-list li:hover
		background-color darken(component-bg, 20%)

	.rc-button
		color chat-fg

	.rc-user-info__row--separator,
	.contextual-bar__header,
	.rcx-accordion-item__bar
		border-color border-color

	.rcx-accordion-item__bar:hover,
	.rc-old .rc-message-box .reply-preview
		background-color darken(chat-bg, 15%)

	.rcx-accordion
		border-bottom-color border-color

	.attachment .attachment-title
		color anchor-fg

	.message.editing // also change --message-box-editing-color
		background-color mix(chat-bg, #fb0, 95%)

	.rc-popover__item-radio:checked+.rc-popover__item-radio-label,
	.rc-user-info__config-value
		color highlight-color

	.rc-popover__item-radio-label:after
		background highlight-color
	
	.message .reactions>li,
	.message .reactions>li.selected,
	.message .reactions>li.add-reaction
		background-color darken(chat-bg, 10%)
		border-color lighten(chat-bg, 15%)

	.message .reactions>li.selected
		color highlight-color
	
	.message .reactions>li.add-reaction
		color icon-fg
	
	.message .reactions>li:hover,
	.message .reactions>li.add-reaction:hover
		border-color highlight-color
	
	.message.active, .message:hover
		background-color darken(chat-bg, 5%)